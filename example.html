<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>PDF Sign Viewer - Example (pdf.js/pdf-lib)</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      body{font-family:Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:16px;background:#fbfdff}
      /* Ribbon toolbar styles */
      .ribbon{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}
      .ribbon-top{display:flex;align-items:center;gap:12px}
      .ribbon-tabs{display:flex;gap:8px}
      .ribbon-tab{padding:8px 12px;border-radius:6px;font-weight:700;color:#334155;cursor:pointer}
      .ribbon-tab.active{background:linear-gradient(180deg,#eef6ff,#e6f0ff);color:#0b6bd3}
      .ribbon-groups{display:flex;gap:12px;padding:8px;background:linear-gradient(180deg,#fff,#f7fbff);border:1px solid #e6eef8;border-radius:8px}
      .ribbon-group{display:flex;flex-direction:column;gap:6px;padding:8px;border-radius:6px;background:transparent;min-width:140px}
      .ribbon-group .label{font-size:12px;color:#64748b;font-weight:700}
      .ribbon-actions{display:flex;gap:8px;flex-wrap:wrap}
      .ribbon-btn{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:6px;background:#fff;border:1px solid #dbeafe;box-shadow:0 2px 6px rgba(14,71,140,0.04);cursor:pointer;font-weight:600;color:#0b6bd3}
      .ribbon-btn.small{padding:8px;width:38px;height:38px;justify-content:center}
      .ribbon-btn svg{width:16px;height:16px}
      #output{white-space:pre-wrap;background:#f7f7f7;padding:8px;border:1px solid #eee}
      #output{white-space:pre-wrap;background:#f7f7f7;padding:8px;border:1px solid #eee}
      pdf-sign-viewer{max-width:900px;border-radius:4px;overflow:hidden;display:block}
    </style>
  </head>
  <body>
    <h2>PDF Sign Viewer  Plain JS Example (pdf.js/pdf-lib)</h2>

    <p style="max-width:900px;color:#334;line-height:1.4">Tip: Click <strong>Enable Add Position</strong> to enter add mode. Hover to see a preview marker, click to add and optionally type a short label, then drag markers to reposition them.</p>

    

    <!-- include SDK (no build step; SDK loads pdf.js and pdf-lib dynamically) -->
    <script src="./pdf-sign-sdk.js?v=20251123_8_fix_handwrite"></script>

    <!-- sample PDF: public sample file -->
    <pdf-sign-viewer id="viewer" src="/dummy.pdf" height="600px"></pdf-sign-viewer>

    <h3>Exported Positions</h3>
    <div id="output">(none)</div>

    <script>
      const viewer = document.getElementById('viewer');
      const toggle = document.getElementById('toggle');
      const output = document.getElementById('output');
      // Note: UI controls have been moved into the component's toolbar.
      // Use the component API from console or let the built-in toolbar manage actions.

      viewer.addEventListener('position-added', (ev)=>{
        console.log('position-added', ev.detail);
      });

      viewer.addEventListener('loaded',(ev)=>{
        console.log('PDF loaded, pages:', ev.detail.pages);
      });

      // end
    </script>
  </body>
</html>
